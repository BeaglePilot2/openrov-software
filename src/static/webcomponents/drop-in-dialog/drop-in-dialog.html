<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="drop-in-dialog" attributes="header">
  <template>

    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/themes/OpenROV/css/style.css">

    <div class="drop-in-right" id="settings">
      <div class="back-button"></div>
      <h2>{{ header }}</h2>
      <div class="accordion" id="plugin-settings">
        <content select="div"></content>
      </div>
    </div>

  </template>
  <script>
    (function() {
      Polymer({
        header: '',
        settings: undefined,
        closeHandlers: [],
        open: function() {
          this.settings.css('display', 'block');
          var self = this;
          Mousetrap.bind('esc',  function() { self.hide(); });
        },
        registerCloseHandler: function(handler) {
          this.closeHandlers.push(handler);
        },
        hide: function () {
          this.settings.css('display', 'none');
          Mousetrap.unbind('esc');
          this.closeHandlers.forEach(function(handler) {
            handler();
          });
        },
        domReady: function () {
          var self = this;
          this.settings = $(this.$.settings);
          this.settings.find('.back-button').click(function() {
            self.hide();
          });
        }
      })
    })();
  </script>

</polymer-element>
  


